<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>模板方法模式</title>
</head>
<body>
  <script>
    /*
    模板方法模式由两部分结构组成，第一部分是抽象父类，第二部分是具体的实现子类。

    在抽象父类中封装子类的算法框架，它的 init方法可作为一个算法的模板，指导子类以何种顺序去执行哪些方法。
    由父类分离出公共部分，要求子类重写某些父类的（易变化的）抽象方法

    主要适用在同级的子类具有相同的行为放在父类中实现，而不同的行为，在各自的子类中实现，
    */
    function Sport() {

    }

    Sport.prototype = {
      constructor: Sport,
      // 模板，定义了执行的顺序
      init() {
        this.prepare()
        this.run()
        this.end()
        this.goHome()
      },
      // 准备
      prepare() {
        console.log('赛前准备，请各位选手热身、准备好比赛道具等')
      },
      // 过程
      run() {
        console.log('比赛进行中...')
      },
      // 结束
      end() {
        console.log('下面进行颁奖：xxxxxxxxxx')
      },
      // 回家
      goHome() {
        console.log('请各位有序离场')
      }
    }

    let xiaoMing = new Sport()
    xiaoMing.prepare = function() {
      console.log('拼命补充能量')
    }
    xiaoMing.goHome = function() {
      console.log('没钱的小明，只能骑着摩拜回家')
    }
    
    xiaoMing.init()
    
    console.log('####################################')
    let zhangSan = new Sport()
    zhangSan.prepare = function() {
      console.log('疯狂热身')
    }
    zhangSan.end = function() {
      console.log('他爸是XXX厅厅长，所以获得了第一名')
    }
    zhangSan.goHome = function() {
      console.log('开着法拉利扬长而去')
    }
    zhangSan.init()
  </script>
</body>
</html>