<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /**
     * 迭代器模式是指提供一种方法顺序访问一个聚合对象中的各个元素，而又不需要暴露该对象的内部表示。
    */

    /**
     * 迭代
     * @param {Object} obj 迭代对象
     * @param {Function} cb 每个元素需要执行的方法
    */
    function iteration(obj, cb) {
      // 是否继续执行
      let isContinue
      

      if(Array.isArray(obj)) {
        // 数组
        for(let i = 0; i < obj.length; i++) {
          if(cb) {
            isContinue = cb.call(obj[i], i, obj[i])
          }
          if(isContinue === false) {
            break
          }
        }
      } else {
        // 对象
        for(let i in obj) {
          if(cb) {
            isContinue = cb.call(obj[i], i, obj[i])
          }
          if(isContinue === false) {
            break
          }
        }

      }
    }

    iteration([1, 2, 3], function(index, value) {
      console.log(index, value);
    });
  </script>
</body>
</html>