<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button id="btn">触发事件</button>

  <script>
    function say() {
      console.log('清空队列')
    }

    const btnEl = document.getElementById('btn')
    const observe = new MutationObserver(say)
    const textNode = document.createTextNode(1) // 文本节点

    /* 
    characterData：监听文本节点的字符数据，当监视指定目标节点或子节点树中节点所包含的字符数据的变化，触发回调
    哪怕修改前后内容相同，只要修改了都会触发回调
    */
    observe.observe(textNode, {
      characterData: true,
    })
    btnEl.onclick = function(e) {
      console.log('点击按钮')
      textNode.textContent = 2
    }
    
  </script>
</body>
</html>